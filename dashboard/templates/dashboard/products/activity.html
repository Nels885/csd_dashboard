{% extends 'format/datatables_format.html' %}

{% load static i18n %}

{% block tablecss %}

    <link rel="stylesheet" type="text/css" href="{% static 'vendor/datatables/SearchPanes/css/searchPanes.dataTables.min.css' %}"/>
    <link rel="stylesheet" type="text/css" href="{% static 'vendor/datatables/Select/css/select.bootstrap.min.css' %}"/>
    <link rel="stylesheet" type="text/css" href="{% static 'vendor/datatables/Buttons/css/buttons.dataTables.min.css' %}"/>

{% endblock %}

{% block card_header %}

    <div class="card-header">
        <ul class="nav nav-tabs card-header-tabs" role="tablist">

            {% include 'dashboard/products/tab_select.html' with select=select_tab %}

        </ul>
    </div>

{% endblock %}

{% block table_content %}

    <div style="min-height: 100vh;">
        <table class="table table-bordered table-sm text-nowrap col-6 mb-4">
            <tbody>
                <tr>

                    <td class="font-weight-bold" style="width: 20%;">Légende :</td>
                    <th class="bg-success text-gray-700 text-center" style="width: 20%;">< 0 jours</th>
                    <th class="bg-info text-light text-center" style="width: 20%;">0 jours</th>
                    <th class="bg-warning text-gray-800 text-center" style="width: 20%;"> > 0 < 3 jours</th>
                    <td class="bg-danger text-light text-center" style="width: 20%;">>= 3 jours</td>
                </tr>
            </tbody>
        </table>

        <table class="table table-bordered table-sm text-nowrap display" id="lateProdTable" style="width:100%">
            <thead>
            <tr>
                <th></th>
                <th>Activité</th>
                <th>Dossier</th>
                <th>Modèle</th>
                <th>Date In</th>
                <th>Date Exp. Attendue</th>
                <th>Nb jours de retard</th>
                <th>Option</th>
                <th>Type de cloture</th>
                <th>Tech</th>
                <th>Animateur</th>
            </tr>
            </thead>
            <tbody>

            {% if not autotronik %}

                {% include 'dashboard/format/lp_tr_link.html' with prods=psa activity='Produits PSA' %}

                {% include 'dashboard/format/lp_tr_link.html' with prods=autre activity='Autres produits' %}

                {% include 'dashboard/format/lp_tr_link.html' with prods=clarion activity='Clarion' %}

                {% include 'dashboard/format/lp_tr_link.html' with prods=calc_mot activity='Calculateurs' %}

                {% include 'dashboard/format/lp_tr_link.html' with prods=etude activity='Etude' %}

                {% include 'dashboard/format/lp_tr_link.html' with prods=defaut activity='Defaut' last=True %}

            {% else %}

                {% include 'dashboard/format/lp_tr_link.html' with prods=autotronik activity='Autotronik' last=True %}

            {% endif %}

            </tbody>
        </table>
    </div>

{% endblock %}

{% block tablejs %}

    <!-- Page level custom scripts -->
    <script src="{% static 'dashboard/js/late-prod-tables.js' %}"></script>

    <script src="{% static 'vendor/datatables/SearchPanes/js/dataTables.searchPanes.min.js' %}"></script>
    <script src="{% static 'vendor/datatables/Select/js/dataTables.select.min.js' %}"></script>
    <script src="{% static 'vendor/datatables/Buttons/js/dataTables.buttons.min.js' %}"></script>
    <script src="{% static 'vendor/datatables/JSZip/jszip.min.js' %}"></script>
    <script src="{% static 'vendor/datatables/pdfmake/pdfmake.min.js' %}"></script>
    <script src="{% static 'vendor/datatables/pdfmake/vfs_fonts.js' %}"></script>
    <script src="{% static 'vendor/datatables/Buttons/js/buttons.html5.min.js' %}"></script>
    <script src="{% static 'vendor/datatables/Buttons/js/buttons.print.min.js' %}"></script>

{% endblock %}